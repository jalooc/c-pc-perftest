(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(22)},22:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),u=n.n(o),l=n(13),c=n(1),p=["Component","PureComponent"],s=n(2),i=n(8),m=function(e,t){var n=t.componentType,a=t.maxDepth,r=t.updateTime,o=e[a]||{},u=o[n]||{},l=u.testsCount||0,c=u.mean||0;return Object(i.a)({},e,Object(s.a)({},a,Object(i.a)({},o,Object(s.a)({},n,Object(i.a)({},u,{testsCount:l+1,mean:(c*l+r)/(l+1)})))))},h=function(){var e=Object(a.useReducer)(m,{}),t=Object(c.a)(e,2);return{results:t[0],addMeasurement:t[1]}},d=function(e){var t=e.results,n=Object.entries(t).map(function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return r.a.createElement("tr",{key:n},r.a.createElement("th",null,n),p.map(function(e){return r.a.createElement("td",{key:e},a[e]?a[e].mean:"-")}))});return n.length?r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Max tree depth"),p.map(function(e){return r.a.createElement("th",{key:e},e)}))),r.a.createElement("tbody",null,n)):null},b=n(3),f=n(4),v=n(6),y=n(5),g=n(7),j=n(12),E=n(9),O=n.n(E),C=function(e){var t,n;return n=t=function(t){function n(){return Object(b.a)(this,n),Object(v.a)(this,Object(y.a)(n).apply(this,arguments))}return Object(g.a)(n,t),Object(f.a)(n,[{key:"render",value:function(){var t=this.props,a=t.depthLevel,o=t.maxDepth,u=t.shouldChangeChildProp,l=Math.floor(4*Math.random()+1),c=a<o?Object(j.a)(Array(l)).map(function(e,t){return r.a.createElement(n,{key:t,depthLevel:a+1,maxDepth:o,shouldChangeChildProp:u&&k(o),arbitraryProp1:"abc",arbitraryProp2:"abc",arbitraryProp3:"abc"})}):null;return r.a.createElement("div",{style:{marginLeft:5}},e.name," of level ",a,u?" which may change childrens' prop":" which won't change childrens' prop",c)}}]),n}(e),t.propTypes={depthLevel:O.a.number,maxDepth:O.a.number.isRequired,shouldChangeChildProp:O.a.bool},t.defaultProps={depthLevel:0,shouldChangeChildProp:!0},n},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return Math.random()>1/e},x=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(v.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={randomProp:Math.random(),testing:!1},n.TestComponent=C(n.props.BaseComponent),n.toggleTesting=function(){return n.setState(function(e){return{testing:!e.testing}})},n}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUpdate",value:function(){this.start=performance.now()}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(e.BaseComponent===this.props.BaseComponent&&e.maxDepth===this.props.maxDepth&&e.addMeasurement===this.props.addMeasurement){var a=performance.now()-this.start;this.props.addMeasurement({maxDepth:this.props.maxDepth,componentType:this.props.BaseComponent.name,updateTime:a})}this.state.testing&&requestAnimationFrame(function(){n.mounted&&n.setState({randomProp:Math.random()})})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.TestComponent;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:this.toggleTesting},this.state.testing?"Testing...":"Test it"),r.a.createElement(e,{maxDepth:this.props.maxDepth,randomProp:this.state.randomProp}))}}]),t}(a.PureComponent),M=function(){var e=Object(a.useState)(4),t=Object(c.a)(e,2),n=t[0],o=t[1],u=Object(a.useState)(p[0]),l=Object(c.a)(u,2),s=l[0],i=l[1],m=h(),b=m.results,f=m.addMeasurement;return r.a.createElement(r.a.Fragment,null,r.a.createElement("fieldset",null,r.a.createElement("label",null,"Max tree depth",r.a.createElement("input",{type:"number",value:n,onChange:function(e){return o(+e.target.value)}}),n>8?"\u2620":null)),r.a.createElement("fieldset",null,p.map(function(e){return r.a.createElement(P,{key:e,type:e,checked:e===s,onChange:function(e){return i(e.target.value)}})})),r.a.createElement(d,{results:b}),r.a.createElement(x,{key:s+n,BaseComponent:r.a[s],maxDepth:n,addMeasurement:f}))},P=function(e){var t=e.type,n=Object(l.a)(e,["type"]);return r.a.createElement("label",null,r.a.createElement("input",Object.assign({type:"radio",name:"component",value:t},n))," ",t)};u.a.render(r.a.createElement(M,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.f778ebae.chunk.js.map