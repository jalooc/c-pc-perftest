(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(22)},22:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),c=n.n(o),l=n(13),u=n(1),p=["Component","PureComponent"],i=n(2),m=n(8),s=function(e,t){var n=t.componentType,a=t.maxDepth,r=t.updateTime,o=e[a]||{},c=o[n]||{},l=c.testsCount||0,u=c.mean||0;return Object(m.a)({},e,Object(i.a)({},a,Object(m.a)({},o,Object(i.a)({},n,Object(m.a)({},c,{testsCount:l+1,mean:(u*l+r)/(l+1)})))))},h=function(){var e=Object(a.useReducer)(s,{}),t=Object(u.a)(e,2);return{results:t[0],addMeasurement:t[1]}},d=function(e){var t=e.results,n=Object.entries(t).map(function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];return r.a.createElement("tr",{key:n},r.a.createElement("th",null,n),p.map(function(e){return r.a.createElement("td",{key:e},a[e]?a[e].mean:"-")}))});return n.length?r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Max tree depth"),p.map(function(e){return r.a.createElement("th",{key:e},e)}))),r.a.createElement("tbody",null,n)):null},b=n(3),f=n(4),y=n(6),v=n(5),g=n(7),E=n(12),j=n(9),O=n.n(j),C=function(e){var t,n;return n=t=function(t){function n(){return Object(b.a)(this,n),Object(y.a)(this,Object(v.a)(n).apply(this,arguments))}return Object(g.a)(n,t),Object(f.a)(n,[{key:"render",value:function(){var t=this.props,a=t.depthLevel,o=t.maxDepth,c=t.shouldChangeChildProp,l=Math.floor(4*Math.random()+1),u=a<o?Object(E.a)(Array(l)).map(function(e,t){return r.a.createElement(n,{key:t,depthLevel:a+1,maxDepth:o,shouldChangeChildProp:c&&k(o),arbitraryProp1:"abc",arbitraryProp2:"abc",arbitraryProp3:"abc"})}):null;return r.a.createElement("div",{style:{marginLeft:5}},e," of level ",a,c?" which may change childrens' prop":" which won't change childrens' prop",u)}}]),n}(r.a[e]),t.propTypes={depthLevel:O.a.number,maxDepth:O.a.number.isRequired,shouldChangeChildProp:O.a.bool},t.defaultProps={depthLevel:0,shouldChangeChildProp:!0},n},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return Math.random()>1/e},T=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={randomProp:Math.random(),testing:!1},n.TestComponent=C(n.props.componentType),n.toggleTesting=function(){return n.setState(function(e){return{testing:!e.testing}})},n}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUpdate",value:function(){this.start=performance.now()}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(e.componentType===this.props.componentType&&e.maxDepth===this.props.maxDepth&&e.addMeasurement===this.props.addMeasurement){var a=performance.now()-this.start;this.props.addMeasurement({maxDepth:this.props.maxDepth,componentType:this.props.componentType,updateTime:a})}this.state.testing&&requestAnimationFrame(function(){n.mounted&&n.setState({randomProp:Math.random()})})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.TestComponent;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:this.toggleTesting},this.state.testing?"Testing...":"Test it"),r.a.createElement(e,{maxDepth:this.props.maxDepth,randomProp:this.state.randomProp}))}}]),t}(a.PureComponent),x=function(){var e=Object(a.useState)(4),t=Object(u.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(p[0]),l=Object(u.a)(c,2),i=l[0],m=l[1],s=h(),b=s.results,f=s.addMeasurement;return r.a.createElement(r.a.Fragment,null,r.a.createElement("small",null,r.a.createElement("i",null,r.a.createElement("a",{href:"https://github.com/jalooc/c-pc-perftest"},"Source code"))),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Max tree depth",r.a.createElement("input",{type:"number",value:n,onChange:function(e){return o(+e.target.value)}}),n>8?"\u2620":null)),r.a.createElement("fieldset",null,p.map(function(e){return r.a.createElement(M,{key:e,type:e,checked:e===i,onChange:function(e){return m(e.target.value)}})})),r.a.createElement(d,{results:b}),r.a.createElement(T,{key:i+n,componentType:i,maxDepth:n,addMeasurement:f}))},M=function(e){var t=e.type,n=Object(l.a)(e,["type"]);return r.a.createElement("label",null,r.a.createElement("input",Object.assign({type:"radio",name:"component",value:t},n))," ",t)};c.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.608f61a0.chunk.js.map